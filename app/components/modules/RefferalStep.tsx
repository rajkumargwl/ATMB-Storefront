import React from 'react';
 
interface Step {
  title: string;
  description: string;
  icon?: {
    url?: string;
  };
}
 
interface ReferralStepProps {
  data: {
    heading?: string;
    subheading?: string;
    steps?: Step[];
  };
}
 
export function RefferalStep({ data }: ReferralStepProps) {
  const { heading, subheading, steps = [] } = data || {};
 
  return (
    <section className="px-5 py-[40px] md:py-[60px] lg:py-[100px] bg-PrimaryBlack">
      <div className="max-w-[1240px] mx-auto">
        <div className='flex flex-col items-center justify-center gap-5 md:gap-5 mb-[44px] md:mb-[64px]'>
 
        
        {/* Heading */}
        {heading && (
          <h2 className="max-w-[680px] mx-auto text-center font-Roboto text-white font-semibold leading-[31.2px] md:leading-[43.2px] text-[24px] md:text-[36px] tracking-[-0.36px] md:tracking-[-0.54px]">
            {heading}
          </h2>
        )}
 
        {/* Subheading */}
        {subheading && (
          <p className="text-center font-Roboto text-white font-normal leading-[27px] md:leading-[27px] text-[18px] md:text-[18px] tracking-[0px]">
            {subheading}
          </p>
        )}
        </div>
 
        {/* Steps */}
        <div className="grid grid-cols-1 md:grid-cols-4 lg:grid-cols-4 gap-10 relative">
          {steps.map((step, index) => (
            <div key={index} className="relative flex flex-col items-center text-center">
              {/* Icon */}
              {step.icon?.url && (
                <div className="w-[60px] md:w-[80px] h-[60px] md:h-[80px] rounded-full bg-DarkOrange flex items-center justify-center mb-5 md:mb-8">
                  <img
                    src={step.icon.url}
                    alt={step.title || 'Step Icon'}
                    className="w-6 md:w-8 h-6 md:h-8 object-contain"
                  />
                </div>
              )}
 
              {/* Title */}
              <h3 className="font-Roboto text-white font-semibold leading-[27px] md:leading-[28px] text-[18px] md:text-[20px] tracking-[-0.3px] md:tracking-[-0.3px]">
                {step.title}
              </h3>
 
              {/* Description */}
              <p className="max-w-[280px] mx-auto md:max-w-full mt-3 md:mt-4 text-center font-Roboto text-white font-normal leading-[21px] md:leading-[24px] text-[14px] md:text-[16px] tracking-[0px]">
                {step.description}
              </p>
 
              {/* Dotted Arrow Between Steps (Desktop only) */}
                 {index < steps.length - 1 && (
                  <div className="hidden lg:block">
                    {index % 2 === 0 ? (
                      // Right-pointing arrow for even indices (0, 2, 4...)
                      <div className="hidden lg:block absolute right-[-90px] top-[35px]">
                      <svg xmlns="http://www.w3.org/2000/svg" width="155" height="23" viewBox="0 0 155 23" fill="none">
                          <path d="M154.244 4.17515C154.42 3.65143 154.137 3.08474 153.614 2.9094L145.079 0.0520842C144.556 -0.123255 143.989 0.159158 143.814 0.68287C143.638 1.20658 143.921 1.77328 144.444 1.94861L152.03 4.48845L149.491 12.0746C149.315 12.5983 149.598 13.165 150.121 13.3403C150.645 13.5157 151.212 13.2332 151.387 12.7095L154.244 4.17515ZM0.457031 3.85767L0.000668108 4.74746C0.569683 5.0393 1.15834 5.33354 1.76615 5.6296L2.20405 4.73057L2.64195 3.83155C2.0461 3.54132 1.46977 3.25323 0.913394 2.96787L0.457031 3.85767ZM5.80218 6.40165L5.39677 7.31579C6.56032 7.83182 7.77793 8.35006 9.0472 8.86749L9.4247 7.94148L9.80219 7.01547C8.55112 6.50546 7.35214 5.99513 6.2076 5.48752L5.80218 6.40165ZM13.1 9.38093L12.7478 10.3169C13.9556 10.7714 15.2024 11.2231 16.4863 11.6699L16.815 10.7255L17.1436 9.78104C15.8753 9.33964 14.6443 8.8936 13.4522 8.44501L13.1 9.38093ZM20.562 11.9798L20.2556 12.9318C21.4916 13.3296 22.7574 13.7216 24.0517 14.1064L24.3366 13.1478L24.6215 12.1893C23.3416 11.8088 22.0901 11.4212 20.8683 11.0279L20.562 11.9798ZM28.1361 14.2323L27.8721 15.1968C29.1296 15.5411 30.4109 15.8776 31.715 16.2051L31.9586 15.2353L32.2022 14.2654C30.9118 13.9413 29.6442 13.6083 28.4002 13.2678L28.1361 14.2323ZM35.8026 16.1582L35.5793 17.1329C36.8548 17.4252 38.1498 17.7083 39.4636 17.981L39.6669 17.0019L39.8701 16.0228C38.5699 15.7528 37.2882 15.4727 36.026 15.1835L35.8026 16.1582ZM43.5501 17.7667L43.3669 18.7498C44.6524 18.9894 45.954 19.2186 47.2711 19.4365L47.4343 18.4499L47.5976 17.4633C46.2939 17.2476 45.0056 17.0208 43.7333 16.7837L43.5501 17.7667ZM51.3331 19.0544L51.1899 20.0441C52.488 20.2318 53.7998 20.4082 55.1245 20.5724L55.2475 19.58L55.3704 18.5876C54.0593 18.4251 52.761 18.2505 51.4763 18.0647L51.3331 19.0544ZM59.1761 20.026L59.0735 21.0207C60.3827 21.1558 61.7036 21.2785 63.0355 21.3881L63.1175 20.3915L63.1995 19.3949C61.8815 19.2864 60.5744 19.1649 59.2787 19.0313L59.1761 20.026ZM67.0514 20.6744L66.9901 21.6725C68.3013 21.7531 69.6224 21.8207 70.9526 21.8745L70.993 20.8753L71.0335 19.8761C69.7173 19.8229 68.4102 19.756 67.1128 19.6763L67.0514 20.6744ZM74.9437 20.9934L74.9245 21.9932C76.2428 22.0186 77.5695 22.0301 78.9039 22.0272L78.9017 21.0272L78.8995 20.0272C77.5796 20.0301 76.2672 20.0187 74.963 19.9935L74.9437 20.9934ZM82.8452 20.9761L82.869 21.9758C84.1847 21.9445 85.5073 21.8988 86.8363 21.838L86.7907 20.8391L86.745 19.8401C85.4307 19.9002 84.1227 19.9454 82.8214 19.9764L82.8452 20.9761ZM90.7387 20.6148L90.8065 21.6125C92.1218 21.5231 93.4428 21.4187 94.7691 21.2987L94.6789 20.3028L94.5888 19.3068C93.2776 19.4255 91.9715 19.5288 90.6709 19.6171L90.7387 20.6148ZM98.6032 19.9028L98.7159 20.8965C100.026 20.7479 101.341 20.5838 102.66 20.4035L102.525 19.4127L102.389 18.4219C101.085 18.6001 99.7858 18.7623 98.4906 18.9092L98.6032 19.9028ZM106.439 18.8315L106.597 19.8189C107.896 19.6105 109.199 19.3861 110.505 19.1452L110.324 18.1618L110.142 17.1784C108.852 17.4164 107.564 17.6382 106.28 17.8441L106.439 18.8315ZM114.2 17.3994L114.405 18.3782C115.698 18.1079 116.994 17.8211 118.293 17.5172L118.065 16.5435L117.837 15.5698C116.554 15.87 115.274 16.1535 113.996 16.4205L114.2 17.3994ZM121.892 15.5994L122.143 16.5673C123.42 16.236 124.698 15.8879 125.978 15.5224L125.704 14.5608L125.429 13.5992C124.165 13.9602 122.902 14.3041 121.641 14.6314L121.892 15.5994ZM129.495 13.4283L129.793 14.3829C131.049 13.9909 132.306 13.5819 133.564 13.1554L133.243 12.2083L132.922 11.2613C131.68 11.6825 130.438 12.0865 129.197 12.4737L129.495 13.4283ZM136.971 10.893L137.316 11.8319C138.554 11.3777 139.793 10.9062 141.032 10.417L140.665 9.48685L140.298 8.55674C139.074 9.03994 137.85 9.5056 136.627 9.95415L136.971 10.893ZM144.315 7.99325L144.705 8.91404C145.922 8.39868 147.138 7.86579 148.354 7.31499L147.941 6.40412L147.528 5.49324C146.328 6.03722 145.127 6.56349 143.925 7.07247L144.315 7.99325ZM151.512 4.73291L151.947 5.63337C152.546 5.34427 153.144 5.05072 153.742 4.75268L153.296 3.85767L152.85 2.96265C152.26 3.25701 151.669 3.54692 151.077 3.83245L151.512 4.73291Z" fill="white"/>
                        </svg>
                      </div>
                    ) : (
                      // Left-pointing arrow for odd indices (1, 3, 5...)
                      <div className="hidden lg:block absolute right-[-90px] top-[35px]">
                      <svg xmlns="http://www.w3.org/2000/svg" width="155" height="23" viewBox="0 0 155 23" fill="none">
                          <path d="M154.244 17.8524C154.42 18.3762 154.137 18.9428 153.614 19.1182L145.079 21.9755C144.556 22.1508 143.989 21.8684 143.814 21.3447C143.638 20.821 143.921 20.2543 144.444 20.079L152.03 17.5391L149.491 9.95302C149.315 9.4293 149.598 8.86261 150.121 8.68727C150.645 8.51193 151.212 8.79434 151.387 9.31806L154.244 17.8524ZM0.457031 18.1699L0.000668108 17.2801C0.569683 16.9883 1.15834 16.694 1.76615 16.398L2.20405 17.297L2.64195 18.196C2.0461 18.4863 1.46977 18.7744 0.913394 19.0597L0.457031 18.1699ZM5.80218 15.6259L5.39677 14.7118C6.56032 14.1958 7.77793 13.6775 9.0472 13.1601L9.4247 14.0861L9.80219 15.0121C8.55112 15.5221 7.35214 16.0325 6.2076 16.5401L5.80218 15.6259ZM13.1 12.6467L12.7478 11.7107C13.9556 11.2562 15.2024 10.8045 16.4863 10.3577L16.815 11.3021L17.1436 12.2466C15.8753 12.6879 14.6443 13.134 13.4522 13.5826L13.1 12.6467ZM20.562 10.0477L20.2556 9.09583C21.4916 8.69802 22.7574 8.30595 24.0517 7.92122L24.3366 8.87977L24.6215 9.83832C23.3416 10.2188 22.0901 10.6064 20.8683 10.9997L20.562 10.0477ZM28.1361 7.79532L27.8721 6.83082C29.1296 6.48654 30.4109 6.14998 31.715 5.82245L31.9586 6.79233L32.2022 7.76221C30.9118 8.08628 29.6442 8.41926 28.4002 8.75983L28.1361 7.79532ZM35.8026 5.8694L35.5793 4.89466C36.8548 4.60238 38.1498 4.31931 39.4636 4.04657L39.6669 5.0257L39.8701 6.00482C38.5699 6.27475 37.2882 6.55488 36.026 6.84413L35.8026 5.8694ZM43.5501 4.26087L43.3669 3.27779C44.6524 3.03822 45.954 2.80899 47.2711 2.59108L47.4343 3.57767L47.5976 4.56426C46.2939 4.77994 45.0056 5.00682 43.7333 5.24394L43.5501 4.26087ZM51.3331 2.97321L51.1899 1.98351C52.488 1.79574 53.7998 1.61935 55.1245 1.4552L55.2475 2.44761L55.3704 3.44002C54.0593 3.60248 52.761 3.77706 51.4763 3.96291L51.3331 2.97321ZM59.1761 2.0016L59.0735 1.00687C60.3827 0.871826 61.7036 0.749088 63.0355 0.639448L63.1175 1.63608L63.1995 2.63271C61.8815 2.7412 60.5744 2.86267 59.2787 2.99632L59.1761 2.0016ZM67.0514 1.35322L66.9901 0.355104C68.3013 0.274504 69.6224 0.206928 70.9526 0.153095L70.993 1.15228L71.0335 2.15146C69.7173 2.20472 68.4102 2.27158 67.1128 2.35134L67.0514 1.35322ZM74.9437 1.03423L74.9245 0.0344143C76.2428 0.00901985 77.5695 -0.00255394 78.9039 0.000364304L78.9017 1.00036L78.8995 2.00036C77.5796 1.99747 76.2672 2.00892 74.963 2.03404L74.9437 1.03423ZM82.8452 1.05151L82.869 0.0517921C84.1847 0.0831032 85.5073 0.12882 86.8363 0.189564L86.7907 1.18852L86.745 2.18748C85.4307 2.12741 84.1227 2.0822 82.8214 2.05123L82.8452 1.05151ZM90.7387 1.41277L90.8065 0.415068C92.1218 0.50444 93.4428 0.608858 94.7691 0.728903L94.6789 1.72483L94.5888 2.72076C93.2776 2.60208 91.9715 2.49884 90.6709 2.41047L90.7387 1.41277ZM98.6032 2.12476L98.7159 1.13113C100.026 1.27969 101.341 1.44383 102.66 1.62411L102.525 2.6149L102.389 3.60569C101.085 3.4275 99.7858 3.26525 98.4906 3.1184L98.6032 2.12476ZM106.439 3.19608L106.597 2.2087C107.896 2.41709 109.199 2.64148 110.505 2.88238L110.324 3.86579L110.142 4.84921C108.852 4.61116 107.564 4.38941 106.28 4.18346L106.439 3.19608ZM114.2 4.6282L114.405 3.64935C115.698 3.91965 116.994 4.20651 118.293 4.51041L118.065 5.48409L117.837 6.45778C116.554 6.15754 115.274 5.87413 113.996 5.60705L114.2 4.6282ZM121.892 6.42822L122.143 5.46028C123.42 5.79158 124.698 6.13973 125.978 6.50519L125.704 7.46678L125.429 8.42836C124.165 8.06736 122.902 7.72345 121.641 7.39617L121.892 6.42822ZM129.495 8.59927L129.793 7.64467C131.049 8.03666 132.306 8.44569 133.564 8.87221L133.243 9.81926L132.922 10.7663C131.68 10.345 130.438 9.94105 129.197 9.55387L129.495 8.59927ZM136.971 11.1346L137.316 10.1957C138.554 10.6499 139.793 11.1214 141.032 11.6106L140.665 12.5407L140.298 13.4708C139.074 12.9877 137.85 12.522 136.627 12.0734L136.971 11.1346ZM144.315 14.0343L144.705 13.1135C145.922 13.6289 147.138 14.1618 148.354 14.7126L147.941 15.6235L147.528 16.5343C146.328 15.9904 145.127 15.4641 143.925 14.9551L144.315 14.0343ZM151.512 17.2947L151.947 16.3942C152.546 16.6833 153.144 16.9769 153.742 17.2749L153.296 18.1699L152.85 19.0649C152.26 18.7706 151.669 18.4807 151.077 18.1951L151.512 17.2947Z" fill="white"/>
                        </svg>
                      </div>
                    
                    )}
                  </div>
                )}             
            </div>
          ))}
        </div>
      </div>
    </section>
  );
}