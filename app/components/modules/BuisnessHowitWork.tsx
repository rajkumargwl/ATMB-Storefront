import React from "react";
 
type Step = {
  heading?: string;
  text?: string;
  icon?: {
    url?: string;
  };
};
 
type BuisnessHowItWorkProps = {
  title?: string;
  description?: string;
  steps?: Step[];
  ctaText?: string;
  ctaUrl?: string;
};
 
export default function BuisnessHowitWork({
  title,
  description,
  steps = [],
  ctaText,
  ctaUrl
}: BuisnessHowItWorkProps) {
  return (
    <section className="bg-PrimaryBlack text-white py-[40px] md:py-[60px] lg:py-[100px] px-5"
      aria-labelledby="buisness-howitwork-heading"
    >
      <div className="max-w-[1240px] mx-auto text-center">
        {/* Title */}
        <div className="flex flex-col items-center justify-center gap-5 md:gap-5 mb-[44px] md:mb-[64px]">
        {title && (
          <h2
            id="buisness-howitwork-heading"
            className="text-center font-Roboto text-white font-semibold leading-[31.2px] md:leading-[43.2px] text-[24px] md:text-[36px] tracking-[-0.36px] md:tracking-[-0.54px]"
          >
            {title}
          </h2>
        )}
 
        {/* Description */}
        {description && (
          <p
            id="buisness-howitwork-desc"
            className="text-center font-Roboto text-white font-normal leading-[24px] md:leading-[27px] text-[16px] md:text-[18px] tracking-[0px]"
          >
            {description}
          </p>
        )}
        </div>
 
        {/* Steps */}
        <ul role="list" className="grid grid-cols-1 md:grid-cols-3 items-start justify-center gap-[44px] md:gap-10">
          {steps.map((step, idx) => (
            <li
              key={idx}
              role="listitem"
              tabIndex={0}
              aria-label={`${step.heading ?? ""}. ${step.text ?? ""}`}
              className="relative flex flex-col items-center text-center"
            >
              {/* Icon */}
              {step?.icon?.url && (
  <div
    className="w-[60px] md:w-[80px] h-[60px] md:h-[80px] rounded-full bg-DarkOrange flex items-center justify-center mb-5 md:mb-8"
    aria-hidden="true"
  >
    <img
      src={step.icon.url}
      alt=""
      className="w-6 md:w-8 h-6 md:h-8"
    />
  </div>
)}
 
              {/* Step Heading */}
              {step.heading && (
                <h3 className="font-Roboto text-white font-semibold leading-[28px] md:leading-[31.2px] text-[20px] md:text-[24px] tracking-[-0.3px] md:tracking-[-0.36px]">
                  {step.heading}
                </h3>
              )}
 
              {/* Step Text */}
              {step.text && (
                <p className="mt-4 text-center font-Roboto text-white font-normal leading-[24px] md:leading-[27px] text-[16px] md:text-[18px] tracking-[0px]">
                  {step.text}
                </p>
              )}
 
              {/* Dashed Arrows (Alternate for Odd/Even Steps) */}
              {idx < steps.length - 1 && (
                <div className="hidden md:block" aria-hidden="true">
                  {idx % 2 === 0 ? (
                    <div className="absolute right-[-105px] lg:right-[-90px] top-[27px]">
                      <svg xmlns="http://www.w3.org/2000/svg" width="169" height="25" viewBox="0 0 169 25" fill="none">
                        <path d="M168.533 4.77744C168.708 4.25373 168.425 3.68703 167.902 3.5117L159.367 0.654379C158.844 0.47904 158.277 0.761452 158.102 1.28516C157.926 1.80888 158.209 2.37557 158.732 2.55091L166.319 5.09075L163.779 12.6769C163.603 13.2006 163.886 13.7673 164.409 13.9426C164.933 14.118 165.5 13.8355 165.675 13.3118L168.533 4.77744ZM1 4.45996L0.543637 5.34975C1.10693 5.63866 1.68792 5.92974 2.28622 6.22251L2.72576 5.32429L3.1653 4.42606C2.57793 4.13864 2.00816 3.85318 1.45636 3.57017L1 4.45996ZM6.28358 6.99077L5.87401 7.90304C7.03367 8.42368 8.24434 8.9468 9.50394 9.46978L9.8874 8.54623L10.2709 7.62267C9.02828 7.10675 7.83503 6.59114 6.69315 6.07849L6.28358 6.99077ZM13.5164 9.99849L13.1565 10.9315C14.3501 11.3919 15.5806 11.8504 16.8466 12.3051L17.1846 11.364L17.5226 10.4229C16.2712 9.97338 15.0553 9.52032 13.8763 9.06551L13.5164 9.99849ZM20.8862 12.6474L20.5689 13.5958C21.7883 14.0037 23.0362 14.4071 24.3117 14.8044L24.6091 13.8497L24.9066 12.8949C23.6444 12.5017 22.4097 12.1027 21.2035 11.6991L20.8862 12.6474ZM28.3506 14.9739L28.0724 15.9345C29.3109 16.2932 30.5724 16.6454 31.8561 16.9902L32.1155 16.0244L32.3749 15.0586C31.1038 14.7173 29.8548 14.3685 28.6288 14.0134L28.3506 14.9739ZM35.9035 17.0028L35.6627 17.9734C36.9201 18.2853 38.1966 18.5896 39.4916 18.885L39.714 17.9101L39.9365 16.9351C38.6539 16.6425 37.3896 16.3412 36.1443 16.0322L35.9035 17.0028ZM43.5463 18.7468L43.3421 19.7257C44.6125 19.9907 45.8989 20.2468 47.2008 20.4932L47.3868 19.5106L47.5728 18.5281C46.2831 18.284 45.0088 18.0303 43.7504 17.7678L43.5463 18.7468ZM51.2309 20.2015L51.0631 21.1873C52.3437 21.4053 53.6381 21.6136 54.9455 21.8114L55.0951 20.8226L55.2446 19.8339C53.9495 19.638 52.6673 19.4317 51.3987 19.2157L51.2309 20.2015ZM58.978 21.3733L58.8468 22.3646C60.1364 22.5353 61.4378 22.6955 62.7504 22.8445L62.8632 21.8509L62.976 20.8573C61.6758 20.7097 60.3867 20.551 59.1092 20.3819L58.978 21.3733ZM66.7497 22.2554L66.6555 23.251C67.9527 23.3738 69.2601 23.4854 70.5771 23.5851L70.6526 22.588L70.7281 21.5908C69.4238 21.492 68.1289 21.3815 66.8439 21.2599L66.7497 22.2554ZM74.5671 22.8471L74.5105 23.8455C75.8084 23.9191 77.1149 23.9809 78.4296 24.0303L78.4672 23.031L78.5047 22.0317C77.2029 21.9827 75.909 21.9216 74.6237 21.8487L74.5671 22.8471ZM82.3805 23.1404L82.3622 24.1402C83.6695 24.1641 84.9843 24.1755 86.3061 24.1739L86.3049 23.1739L86.3037 22.1739C84.995 22.1755 83.6933 22.1642 82.3988 22.1405L82.3805 23.1404ZM90.2086 23.131L90.2295 24.1308C91.5342 24.1036 92.8453 24.0635 94.1623 24.0099L94.1217 23.0107L94.081 22.0115C92.7774 22.0646 91.4795 22.1043 90.1878 22.1312L90.2086 23.131ZM98.0388 22.8118L98.0995 23.81C99.3996 23.7309 100.705 23.6383 102.015 23.5319L101.934 22.5352L101.853 21.5385C100.557 21.6438 99.2647 21.7354 97.978 21.8137L98.0388 22.8118ZM105.835 22.1782L105.936 23.173C107.236 23.0406 108.541 22.8941 109.849 22.7333L109.727 21.7408L109.605 20.7483C108.311 20.9074 107.02 21.0522 105.733 21.1833L105.835 22.1782ZM113.601 21.2237L113.744 22.2134C115.039 22.0268 116.337 21.8258 117.639 21.6099L117.476 20.6234L117.312 19.6369C116.024 19.8504 114.74 20.0492 113.459 20.2339L113.601 21.2237ZM121.326 19.9428L121.511 20.9256C122.794 20.6846 124.08 20.4289 125.369 20.1581L125.164 19.1795L124.958 18.2008C123.683 18.4687 122.411 18.7216 121.142 18.96L121.326 19.9428ZM128.993 18.3314L129.22 19.3054C130.489 19.0097 131.761 18.6991 133.034 18.3731L132.786 17.4043L132.538 16.4356C131.279 16.7579 130.022 17.0651 128.766 17.3575L128.993 18.3314ZM136.573 16.3906L136.842 17.3537C138.099 17.0022 139.358 16.6355 140.617 16.2532L140.327 15.2963L140.037 14.3394C138.791 14.7174 137.547 15.08 136.303 15.4276L136.573 16.3906ZM144.058 14.1184L144.37 15.0686C145.613 14.6609 146.858 14.2376 148.102 13.7984L147.77 12.8553L147.437 11.9123C146.206 12.3465 144.976 12.765 143.747 13.1682L144.058 14.1184ZM151.438 11.5148L151.792 12.4502C153.017 11.9869 154.243 11.5078 155.468 11.0127L155.094 10.0855L154.719 9.15832C153.507 9.64779 152.296 10.1214 151.084 10.5794L151.438 11.5148ZM158.696 8.58304L159.091 9.50163C160.293 8.98471 161.494 8.45203 162.694 7.90326L162.279 6.99377L161.863 6.08428C160.676 6.62681 159.489 7.15342 158.301 7.66445L158.696 8.58304ZM165.817 5.32841L166.253 6.22838C166.845 5.94127 167.438 5.65015 168.03 5.35498L167.584 4.45996L167.138 3.56494C166.553 3.85677 165.967 4.14458 165.381 4.42844L165.817 5.32841Z" fill="white"/>
                      </svg>
                    </div>
                  ) : (
                    <div className="absolute right-[-105px]  lg:right-[-90px] top-[22px]">
                        <svg xmlns="http://www.w3.org/2000/svg" width="169" height="25" viewBox="0 0 169 25" fill="none">
                        <path d="M168.384 20.2306C168.559 20.7543 168.277 21.321 167.753 21.4964L159.219 24.3537C158.695 24.529 158.129 24.2466 157.953 23.7229C157.778 23.1992 158.06 22.6325 158.584 22.4571L166.17 19.9173L163.63 12.3312C163.455 11.8075 163.737 11.2408 164.261 11.0654C164.785 10.8901 165.351 11.1725 165.527 11.6962L168.384 20.2306ZM0.851562 20.5481L0.395199 19.6583C0.958491 19.3694 1.53949 19.0783 2.13778 18.7855L2.57732 19.6838L3.01686 20.582C2.42949 20.8694 1.85972 21.1549 1.30793 21.4379L0.851562 20.5481ZM6.13514 18.0173L5.72557 17.105C6.88523 16.5844 8.0959 16.0613 9.3555 15.5383L9.73896 16.4618L10.1224 17.3854C8.87984 17.9013 7.68659 18.4169 6.54471 18.9296L6.13514 18.0173ZM13.368 15.0096L13.008 14.0766C14.2017 13.6161 15.4322 13.1576 16.6981 12.7029L17.0362 13.644L17.3742 14.5852C16.1227 15.0347 14.9068 15.4877 13.7279 15.9426L13.368 15.0096ZM20.7378 12.3606L20.4205 11.4123C21.6399 11.0043 22.8878 10.601 24.1633 10.2036L24.4607 11.1584L24.7581 12.1131C23.4959 12.5063 22.2612 12.9054 21.0551 13.309L20.7378 12.3606ZM28.2022 10.0341L27.924 9.0736C29.1625 8.7149 30.424 8.36262 31.7077 8.01787L31.9671 8.98365L32.2264 9.94943C30.9554 10.2908 29.7064 10.6396 28.4803 10.9947L28.2022 10.0341ZM35.7551 8.00527L35.5142 7.0347C36.7716 6.72271 38.0482 6.4185 39.3431 6.12303L39.5656 7.09797L39.788 8.07292C38.5054 8.36557 37.2411 8.66686 35.9959 8.97584L35.7551 8.00527ZM43.3978 6.26127L43.1937 5.28234C44.464 5.01739 45.7505 4.76129 47.0524 4.51487L47.2384 5.49743L47.4243 6.47999C46.1347 6.72408 44.8603 6.97777 43.602 7.24021L43.3978 6.26127ZM51.0825 4.80653L50.9146 3.82072C52.1953 3.60272 53.4896 3.39445 54.7971 3.19667L54.9466 4.18542L55.0962 5.17417C53.801 5.37009 52.5189 5.5764 51.2503 5.79235L51.0825 4.80653ZM58.8296 3.63478L58.6983 2.64343C59.988 2.47273 61.2894 2.31255 62.602 2.16356L62.7147 3.15718L62.8275 4.1508C61.5274 4.29838 60.2383 4.45705 58.9608 4.62614L58.8296 3.63478ZM66.6013 2.75264L66.507 1.75709C67.8043 1.63428 69.1117 1.52269 70.4287 1.42295L70.5042 2.4201L70.5797 3.41724C69.2753 3.51602 67.9804 3.62654 66.6955 3.74819L66.6013 2.75264ZM74.4186 2.16093L74.3621 1.16253C75.66 1.08898 76.9665 1.0272 78.2812 0.977793L78.3187 1.97709L78.3563 2.97638C77.0544 3.02531 75.7606 3.08648 74.4752 3.15933L74.4186 2.16093ZM82.2321 1.8677L82.2138 0.867865C83.5211 0.843945 84.8359 0.832512 86.1577 0.834118L86.1565 1.83412L86.1553 2.83412C84.8466 2.83253 83.5448 2.84385 82.2504 2.86753L82.2321 1.8677ZM90.0602 1.87706L90.081 0.877275C91.3858 0.904442 92.6969 0.944574 94.0139 0.998184L93.9732 1.99736L93.9326 2.99653C92.6289 2.94346 91.3311 2.90374 90.0394 2.87684L90.0602 1.87706ZM97.8903 2.19621L97.9511 1.19806C99.2512 1.2772 100.557 1.36973 101.867 1.47614L101.786 2.47286L101.705 3.46958C100.408 3.36427 99.1163 3.27269 97.8296 3.19436L97.8903 2.19621ZM105.686 2.82986L105.788 1.83501C107.088 1.9675 108.392 2.11392 109.701 2.27473L109.579 3.26727L109.457 4.2598C108.162 4.10069 106.871 3.95581 105.585 3.82471L105.686 2.82986ZM113.453 3.78438L113.596 2.79461C114.89 2.98127 116.189 3.1823 117.491 3.39814L117.327 4.38467L117.164 5.3712C115.876 5.15769 114.591 4.95881 113.31 4.77415L113.453 3.78438ZM121.178 5.06527L121.362 4.08245C122.646 4.32347 123.932 4.57916 125.221 4.84996L125.015 5.82859L124.81 6.80722C123.535 6.5394 122.263 6.28649 120.993 6.0481L121.178 5.06527ZM128.844 6.67662L129.071 5.70269C130.341 5.99837 131.612 6.309 132.886 6.63496L132.638 7.60372L132.39 8.57248C131.131 8.25015 129.873 7.94297 128.618 7.65056L128.844 6.67662ZM136.424 8.61741L136.693 7.65434C137.951 8.00582 139.209 8.37255 140.469 8.7549L140.179 9.7118L139.888 10.6687C138.643 10.2906 137.398 9.92803 136.155 9.58049L136.424 8.61741ZM143.91 10.8896L144.221 9.93943C145.465 10.3472 146.709 10.7705 147.954 11.2097L147.621 12.1527L147.289 13.0957C146.058 12.6615 144.828 12.243 143.598 11.8399L143.91 10.8896ZM151.29 13.4932L151.643 12.5579C152.869 13.0212 154.094 13.5003 155.32 13.9954L154.945 14.9226L154.571 15.8497C153.359 15.3603 152.147 14.8867 150.936 14.4286L151.29 13.4932ZM158.548 16.425L158.943 15.5064C160.144 16.0233 161.345 16.556 162.546 17.1048L162.13 18.0143L161.714 18.9238C160.528 18.3813 159.34 17.8546 158.152 17.3436L158.548 16.425ZM165.668 19.6796L166.104 18.7797C166.697 19.0668 167.29 19.3579 167.882 19.6531L167.436 20.5481L166.99 21.4431C166.404 21.1513 165.818 20.8635 165.232 20.5796L165.668 19.6796Z" fill="white"/>
                      </svg>
                    </div>
                  )}
                </div>
              )}
            </li>
          ))}
        </ul>
 
        {/* CTA Button */}
        {ctaText && (
          <a
            href={ctaUrl ?? "#"}
            className="flex items-center justify-center w-[249px] mx-auto md:w-[296px] h-[44px] md:h-[52px] rounded-full bg-[#FF6600] px-4 py-3 text-white font-Roboto font-medium text-[16px] leading-[16px] tracking-[0.08px] focus:outline-none focus:ring-4 focus:ring-[#FF6600]/50 focus:ring-offset-2 focus:ring-offset-[#0C0C0C]"
            aria-label={ctaText}
          >
            {ctaText}
          </a>
        )}
      </div>
    </section>
  );
}